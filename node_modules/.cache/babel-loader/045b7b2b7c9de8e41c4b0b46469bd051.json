{"ast":null,"code":"import { useContext, useState } from 'react';\nimport FoodAppContext from '../context/FoodAppContext';\nimport { categoryMealApi, categoryDrinkApi } from '../services';\n\nfunction useCategory(history) {\n  const cinco = 5;\n  const zero = 0;\n  const bools = true;\n  const {\n    setMealsData,\n    setDrinksData,\n    showSearch\n  } = useContext(FoodAppContext);\n  const [mealsCategory, setMealsCategory] = useState([]);\n  const [drinksCategory, setDrinksCategory] = useState([]);\n  const [toggle, setToggle] = useState(false);\n  const {\n    location\n  } = history;\n  const {\n    pathname\n  } = location;\n  const category = pathname.split('/');\n\n  async function fecthCategoryMeals() {\n    const {\n      meals\n    } = await categoryMealApi();\n    setMealsCategory(meals);\n  }\n\n  async function fecthCategoryDrinks() {\n    const {\n      drinks\n    } = await categoryDrinkApi();\n    setDrinksCategory(drinks);\n  }\n\n  const fetchCategory = category[1] === 'comidas' ? fecthCategoryMeals : fecthCategoryDrinks;\n\n  const handlerCategoryMeals = async ({\n    target\n  }) => {\n    setToggle(false);\n    const term = toggle ? '' : target.value;\n    const {\n      meals\n    } = await mealsAPI(term, 'c');\n    setMealsData(meals);\n    setToggle(true);\n  };\n\n  const handlerCategoryAll = async () => {\n    const {\n      meals\n    } = await mealsAPI('', '');\n    setMealsData(meals);\n  };\n\n  return [cinco, zero, bools, category, showSearch, mealsCategory, drinksCategory, setToggle, fetchCategory, handlerCategoryMeals, handlerCategoryAll];\n}\n\nexport default useCategory;","map":{"version":3,"sources":["/home/marcelotryber/projetos/projeto-bloco_19_app-receitas/sd-07-project-recipes-app/src/hooks/useCategory.js"],"names":["useContext","useState","FoodAppContext","categoryMealApi","categoryDrinkApi","useCategory","history","cinco","zero","bools","setMealsData","setDrinksData","showSearch","mealsCategory","setMealsCategory","drinksCategory","setDrinksCategory","toggle","setToggle","location","pathname","category","split","fecthCategoryMeals","meals","fecthCategoryDrinks","drinks","fetchCategory","handlerCategoryMeals","target","term","value","mealsAPI","handlerCategoryAll"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AAEA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,aAAlD;;AAEA,SAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC5B,QAAMC,KAAK,GAAG,CAAd;AACA,QAAMC,IAAI,GAAG,CAAb;AACA,QAAMC,KAAK,GAAG,IAAd;AACA,QAAM;AACJC,IAAAA,YADI;AAEJC,IAAAA,aAFI;AAGJC,IAAAA;AAHI,MAIFZ,UAAU,CAACE,cAAD,CAJd;AAKA,QAAM,CAACW,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACc,cAAD,EAAiBC,iBAAjB,IAAsCf,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,KAAD,CAApC;AAEA,QAAM;AAAEkB,IAAAA;AAAF,MAAeb,OAArB;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAeD,QAArB;AACA,QAAME,QAAQ,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAjB;;AAEA,iBAAeC,kBAAf,GAAoC;AAClC,UAAM;AAAEC,MAAAA;AAAF,QAAY,MAAMrB,eAAe,EAAvC;AACAW,IAAAA,gBAAgB,CAACU,KAAD,CAAhB;AACD;;AAED,iBAAeC,mBAAf,GAAqC;AACnC,UAAM;AAAEC,MAAAA;AAAF,QAAa,MAAMtB,gBAAgB,EAAzC;AACAY,IAAAA,iBAAiB,CAACU,MAAD,CAAjB;AACD;;AAED,QAAMC,aAAa,GAAGN,QAAQ,CAAC,CAAD,CAAR,KAAgB,SAAhB,GAA4BE,kBAA5B,GAClBE,mBADJ;;AAGA,QAAMG,oBAAoB,GAAG,OAAO;AAAEC,IAAAA;AAAF,GAAP,KAAsB;AACjDX,IAAAA,SAAS,CAAC,KAAD,CAAT;AACA,UAAMY,IAAI,GAAGb,MAAM,GAAG,EAAH,GAAQY,MAAM,CAACE,KAAlC;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAY,MAAMQ,QAAQ,CAACF,IAAD,EAAO,GAAP,CAAhC;AACApB,IAAAA,YAAY,CAACc,KAAD,CAAZ;AACAN,IAAAA,SAAS,CAAC,IAAD,CAAT;AACD,GAND;;AAQA,QAAMe,kBAAkB,GAAG,YAAY;AACrC,UAAM;AAAET,MAAAA;AAAF,QAAY,MAAMQ,QAAQ,CAAC,EAAD,EAAK,EAAL,CAAhC;AACAtB,IAAAA,YAAY,CAACc,KAAD,CAAZ;AACD,GAHD;;AAKA,SAAO,CAACjB,KAAD,EAAQC,IAAR,EAAcC,KAAd,EAAqBY,QAArB,EAA+BT,UAA/B,EAA2CC,aAA3C,EACLE,cADK,EACWG,SADX,EACsBS,aADtB,EACqCC,oBADrC,EAELK,kBAFK,CAAP;AAGD;;AAED,eAAe5B,WAAf","sourcesContent":["import { useContext, useState } from 'react';\n\nimport FoodAppContext from '../context/FoodAppContext';\nimport { categoryMealApi, categoryDrinkApi } from '../services';\n\nfunction useCategory(history) {\n  const cinco = 5;\n  const zero = 0;\n  const bools = true;\n  const {\n    setMealsData,\n    setDrinksData,\n    showSearch,\n  } = useContext(FoodAppContext);\n  const [mealsCategory, setMealsCategory] = useState([]);\n  const [drinksCategory, setDrinksCategory] = useState([]);\n  const [toggle, setToggle] = useState(false);\n\n  const { location } = history;\n  const { pathname } = location;\n  const category = pathname.split('/');\n\n  async function fecthCategoryMeals() {\n    const { meals } = await categoryMealApi();\n    setMealsCategory(meals);\n  }\n\n  async function fecthCategoryDrinks() {\n    const { drinks } = await categoryDrinkApi();\n    setDrinksCategory(drinks);\n  }\n\n  const fetchCategory = category[1] === 'comidas' ? fecthCategoryMeals\n    : fecthCategoryDrinks;\n\n  const handlerCategoryMeals = async ({ target }) => {\n    setToggle(false);\n    const term = toggle ? '' : target.value;\n    const { meals } = await mealsAPI(term, 'c');\n    setMealsData(meals);\n    setToggle(true);\n  };\n\n  const handlerCategoryAll = async () => {\n    const { meals } = await mealsAPI('', '');\n    setMealsData(meals);\n  };\n\n  return [cinco, zero, bools, category, showSearch, mealsCategory,\n    drinksCategory, setToggle, fetchCategory, handlerCategoryMeals,\n    handlerCategoryAll];\n}\n\nexport default useCategory;\n"]},"metadata":{},"sourceType":"module"}